{
    "sourceFile": "public/js/pengurus.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1766463033395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1766463033395,
            "name": "Commit-0",
            "content": "// pengurus.js â€” vanilla JS for burger menu, edit toggles, program add/remove\r\n(function(){\r\n  // Burger menu\r\n  var burgerBtn = document.getElementById('burger-btn');\r\n  var burger = document.getElementById('pengurus-burger');\r\n  var overlay = document.getElementById('pengurus-overlay');\r\n  var burgerClose = document.getElementById('burger-close');\r\n\r\n  function openBurger(){\r\n    if(burger){ burger.setAttribute('aria-hidden','false'); burger.style.transform='translateX(0)'; }\r\n    if(overlay) overlay.classList.remove('hidden');\r\n  }\r\n  function closeBurger(){\r\n    if(burger){ burger.setAttribute('aria-hidden','true'); burger.style.transform='translateX(-110%)'; }\r\n    if(overlay) overlay.classList.add('hidden');\r\n  }\r\n\r\n  if(burgerBtn) burgerBtn.addEventListener('click', openBurger);\r\n  if(burgerClose) burgerClose.addEventListener('click', closeBurger);\r\n  if(overlay) overlay.addEventListener('click', closeBurger);\r\n\r\n  // close when clicking any menu link with data-close\r\n  document.addEventListener('click', function(e){\r\n    var el = e.target.closest('[data-close]');\r\n    if(el){ closeBurger(); }\r\n  });\r\n\r\n  // Logout dummy\r\n  var logout = document.getElementById('pengurus-logout');\r\n  if(logout) logout.addEventListener('click', function(e){ e.preventDefault(); window.location.href='/pengurus/login'; });\r\n\r\n  // Editable blocks (visi & misi)\r\n  document.querySelectorAll('[data-editable]').forEach(function(root){\r\n    var toggle = root.querySelector('[data-toggle-edit]');\r\n    var view = root.querySelector('.view-mode');\r\n    var edit = root.querySelector('.edit-mode');\r\n    var save = root.querySelector('[data-save]');\r\n    var cancel = root.querySelector('[data-cancel]');\r\n    var display = root.querySelector('#visi-misi');\r\n    var input = root.querySelector('#visi-misi-input');\r\n\r\n    if(toggle){ toggle.addEventListener('click', function(){ view.classList.add('hidden'); edit.classList.remove('hidden'); }); }\r\n    if(cancel){ cancel.addEventListener('click', function(){ edit.classList.add('hidden'); view.classList.remove('hidden'); }); }\r\n    if(save){ save.addEventListener('click', function(){ display.textContent = input.value; edit.classList.add('hidden'); view.classList.remove('hidden'); }); }\r\n  });\r\n\r\n  // Program list add/remove/expand\r\n  var programList = document.getElementById('program-list');\r\n  var addBtn = document.getElementById('add-program');\r\n  var newProgram = document.getElementById('new-program');\r\n  if(addBtn && newProgram && programList){\r\n    addBtn.addEventListener('click', function(){\r\n      var val = newProgram.value && newProgram.value.trim();\r\n      if(!val) return; var id = Date.now();\r\n      var li = document.createElement('li'); li.setAttribute('data-id', id);\r\n      li.innerHTML = '<div class=\"prog-row\"><div class=\"prog-title\">'+escapeHtml(val)+'</div><div class=\"prog-actions\"><button class=\"btn-sm\" data-toggle-expand>Detail</button> <button class=\"btn-sm btn-danger\" data-remove>Hapus</button></div></div><div class=\"prog-detail hidden\">Detail untuk '+escapeHtml(val)+'</div>';\r\n      programList.appendChild(li);\r\n      newProgram.value='';\r\n    });\r\n  }\r\n\r\n  document.addEventListener('click', function(e){\r\n    var t;\r\n    // remove\r\n    if((t = e.target.closest('[data-remove]'))){\r\n      var li = t.closest('li'); if(li) li.remove();\r\n    }\r\n    // expand\r\n    if((t = e.target.closest('[data-toggle-expand]'))){\r\n      var li = t.closest('li'); if(!li) return; var detail = li.querySelector('.prog-detail'); if(detail) detail.classList.toggle('hidden');\r\n    }\r\n  });\r\n\r\n  function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }\r\n\r\n})();\r\n"
        }
    ]
}